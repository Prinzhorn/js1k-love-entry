var j=(c.width=998)/2,p=k=(c.height=400)/2,h=[],t=d=x=0,g,M=Math,P=M.PI,C=M.cos;with(c.style){display="block";margin="auto";border="solid #000";borderWidth="99px 2px";background="#000"}onkeydown=function(a){a=a.which;p=a-80;if(!d){a-37||(d=-1);a-39||(d=1)}};onkeyup=function(){d=0};setInterval(function(i){if(p)with(a){save(clearRect(i=0,0,j*2,k*2));for(translate(-C((h[8]&&h[8][4]||t)/100)*j/2+j,0);b=h[i];i++){g=b[0]*=1.1;beginPath(fillStyle=b[3]);arc(b[1]-g,c=b[2]-g,g,P*.8,P*2);arc(b[1]+g,c,g,P,P*2.2);fill(closePath(lineTo(b[1],b[2]+g*2)));i-38||clip(save())}i>38&&restore();c=C(t++/100)*j/2;b=210*(b=C(t/15))*b*b*b+24+M.random()*30|0;restore(h[i]=[1,c,k,"rgb("+b+",0,0)",t]);fillStyle="rgb("+b+","+b+","+b+")";save(c=-c*2+j*2-50+x);scale(1,.5);save(font="150px cursive");translate(j,k+50);rotate(.05*d);translate(-j,-k-50);restore(fillText("â†‘",c,k*2+150));fillText(t>=1024?">1k":t,10,150);h[0][0]>j&&h.shift();restore(x+=d*6);if(M.abs(c-j+50)>200){alert("DOH! You hit the wall.\nYour score: "+t);d=t=x=0;h=[]}}},33)
